ALTER SESSION SET NLS_DATE_FORMAT='DD/MM/rr';
alter session set NLS_NUMERIC_CHARACTERS=',.';

DROP TABLE DETALLE_FACTURA CASCADE CONSTRAINTS;
DROP TABLE FACTURA CASCADE CONSTRAINTS;
DROP TABLE DETALLE_BOLETA CASCADE CONSTRAINTS;
DROP TABLE BOLETA CASCADE CONSTRAINTS;
DROP TABLE PROMOCION CASCADE CONSTRAINTS;
DROP TABLE PRODUCTO CASCADE CONSTRAINTS;
DROP TABLE UNIDAD_MEDIDA CASCADE CONSTRAINTS;
DROP TABLE PAIS CASCADE CONSTRAINTS;
DROP TABLE turno_vendedor CASCADE CONSTRAINTS;
DROP TABLE CLIENTE CASCADE CONSTRAINTS;
DROP TABLE VENDEDOR CASCADE CONSTRAINTS;
DROP TABLE FORMA_PAGO CASCADE CONSTRAINTS;
DROP TABLE BANCO CASCADE CONSTRAINTS;
DROP TABLE COMUNA CASCADE CONSTRAINTS;
DROP TABLE CIUDAD CASCADE CONSTRAINTS;
drop table rangos_sueldos CASCADE CONSTRAINTS;
drop table ERROR_PROCESOS_MENSUALES CASCADE CONSTRAINTS;

DROP TABLE PAGO_VENDEDOR CASCADE CONSTRAINTS;



DROP SEQUENCE SEQ_AUDIT ;
DROP SEQUENCE seq_error;


Prompt ******  CREANDO TABLA CIUDAD ....

CREATE TABLE CIUDAD  
(
 CODCIUDAD 	NUMBER (2), 
 DESCRIPCION 	VARCHAR2(30)
);

ALTER TABLE CIUDAD 
    ADD CONSTRAINT COD_CIUDAD_PK PRIMARY KEY (CODCIUDAD);

CREATE TABLE rangos_sueldos (
  cod_rango NUMBER(2) NOT NULL,
  sueldo_min NUMBER(8) NOT NULL,
  sueldo_max NUMBER(8) NOT NULL, 
  porc_honorario NUMBER(4,2) NOT NULL, 
  CONSTRAINT pk_rangos PRIMARY KEY (cod_rango)
);  

Prompt ******  CREANDO TABLA COMUNA ....

CREATE TABLE COMUNA
(
 CODCOMUNA 	NUMBER (2), 
 DESCRIPCION 	VARCHAR2(30),
 CODCIUDAD 	NUMBER(2)
);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_COMUNA_PK PRIMARY KEY (CODCOMUNA);

ALTER TABLE COMUNA 
    ADD CONSTRAINT COD_CIUDAD_FK FOREIGN KEY (CODCIUDAD) REFERENCES CIUDAD (CODCIUDAD);


Prompt ******  CREANDO TABLA CLIENTE ....

CREATE TABLE CLIENTE
(
  ID_CLIENTE  		NUMBER(2),	
  RUTCLIENTE  		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  ESTADO      		VARCHAR2(1),
  MAIL			VARCHAR2(50),
  CREDITO     		NUMBER (7),
  SALDO       		NUMBER (7),
  FECHA_CARGA           DATE
);

ALTER TABLE CLIENTE
    ADD CONSTRAINT RUT_CLIENTE_PK
    PRIMARY KEY (RUTCLIENTE);

ALTER TABLE CLIENTE
    ADD CONSTRAINT ESTADO_CLIENTE_CK
    CHECK (ESTADO IN ('A', 'B') );

ALTER TABLE CLIENTE 
    ADD CONSTRAINT COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);



Prompt ******  CREANDO TABLA VENDEDOR ....

CREATE TABLE VENDEDOR
(
  ID_VENDEDOR		NUMBER(2),	
  RUTVENDEDOR 		VARCHAR2(10),
  NOMBRE      		VARCHAR2(30),
  DIRECCION   		VARCHAR2(30),
  CODCOMUNA   		NUMBER (2),
  TELEFONO    		NUMBER(10),
  MAIL			VARCHAR2(50),
  SUELDO_BASE		NUMBER(8),
  COMISION		NUMBER(2,2),
  sueldo_reajustado     NUMBER(8),
  hora_inicio           VARCHAR2 (5) NOT NULL,
  hora_termino          VARCHAR2 (5) NOT NULL,
  fecha_nac             DATE NOT NULL
);

ALTER TABLE VENDEDOR
    ADD CONSTRAINT RUT_VENDEDOR_PK
    PRIMARY KEY (RUTVENDEDOR);

ALTER TABLE VENDEDOR 
    ADD CONSTRAINT VENDEDOR_COD_COMUNA_FK 
    FOREIGN KEY (CODCOMUNA) REFERENCES COMUNA (CODCOMUNA);


Prompt ******  CREANDO TABLA UNIDAD_MEDIDA ....

CREATE TABLE  UNIDAD_MEDIDA 
   (
    CODUNIDAD 	VARCHAR2(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE UNIDAD_MEDIDA 
      ADD CONSTRAINT COD_UNIDAD_PK 
      PRIMARY KEY (CODUNIDAD);


Prompt ******  CREANDO TABLA PAIS ....

CREATE TABLE  PAIS 
   (
    CODPAIS 	NUMBER(2), 
    NOMPAIS	VARCHAR2(30) 
   );

ALTER TABLE PAIS 
      ADD CONSTRAINT PAIS_PK 
      PRIMARY KEY (CODPAIS);

Prompt ******  CREANDO TABLA PRODUCTO ....

CREATE TABLE  PRODUCTO 
   (
    CODPRODUCTO  	NUMBER(3), 
    DESCRIPCION   	VARCHAR2(40), 
    CODUNIDAD     	VARCHAR2(2), 
    CODCATEGORIA    	VARCHAR2(1), 
    VUNITARIO    		NUMBER(8), 
    VALORCOMPRAPESO    	NUMBER(8), 
    VALORCOMPRADOLAR   NUMBER(8,2), 
    TOTALSTOCK   	NUMBER (5),
    STKSEGURIDAD  	NUMBER (5),    
    PROCEDENCIA   	VARCHAR2(1),
    CODPAIS		NUMBER(2),
    CODPRODUCTO_REL	NUMBER(3)
   );

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PROD_PK 
      PRIMARY KEY (CODPRODUCTO);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_UNIDAD_FK 
      FOREIGN KEY (CODUNIDAD) REFERENCES UNIDAD_MEDIDA (CODUNIDAD);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT COD_PAIS_FK 
      FOREIGN KEY (CODPAIS) REFERENCES PAIS (CODPAIS);

ALTER TABLE PRODUCTO 
      ADD CONSTRAINT CODPRODUCTO_REL_FK 
      FOREIGN KEY (CODPRODUCTO_REL) REFERENCES PRODUCTO (CODPRODUCTO);



Prompt ******  CREANDO TABLA PROMOCION ....

CREATE TABLE  PROMOCION 
   (
    CODPROMOCION  	NUMBER (4), 
    DESCRI_PROM   	VARCHAR2(60), 
    FECHA_DESDE		DATE,
    FECHA_HASTA		DATE,
    CODPRODUCTO	    NUMBER(3), 
    PORC_DSCTO_PROD	NUMBER(4,2),
    CODPRODUCTO_REL NUMBER(3)
   );

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPROMOCION_PK 
      PRIMARY KEY (CODPROMOCION);

ALTER TABLE PROMOCION 
      ADD CONSTRAINT CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


Prompt ******  CREANDO TABLA FORMA_PAGO ....

CREATE TABLE  FORMA_PAGO 
   (
    CODPAGO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE FORMA_PAGO 
      ADD CONSTRAINT CODPAGO_PK 
      PRIMARY KEY (CODPAGO);


Prompt ******  CREANDO TABLA BANCO ....

CREATE TABLE  BANCO 
   (
    CODBANCO 	NUMBER(2), 
    DESCRIPCION	VARCHAR2(30) 
   );

ALTER TABLE BANCO 
      ADD CONSTRAINT CODBANCO_PK 
      PRIMARY KEY (CODBANCO);


CREATE TABLE ERROR_PROCESOS_MENSUALES
(correl_error NUMBER(5) NOT NULL,
 rutina_error VARCHAR2(70) NOT NULL,
 descrip_error VARCHAR2(100) NOT NULL,
 CONSTRAINT PK_ERROR_PROCS_MENSUALES PRIMARY KEY(correl_error));


Prompt ******  CREANDO TABLA FACTURA ....

CREATE TABLE FACTURA
(
  NUMFACTURA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTVENDEDOR     	VARCHAR2(10),
  FECHA       		DATE,
  F_VENCIMIENTO	DATE,
  NETO        		NUMBER (7),	
  IVA         		NUMBER (7),
  TOTAL       		NUMBER (7),
  CODBANCO		NUMBER(2),
  CODPAGO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE FACTURA 
      ADD CONSTRAINT NUMFACTURA_PK 
      PRIMARY KEY (NUMFACTURA);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE FACTURA 
      ADD CONSTRAINT RUTVENDEDOR_FK 
      FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE FACTURA 
      ADD CONSTRAINT CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE FACTURA
      ADD CONSTRAINT ESTADO_FACTURA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_FACTURA ....

CREATE TABLE DETALLE_FACTURA 
   (
    NUMFACTURA 	NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    		NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT DET_FACT_PK 
      PRIMARY KEY (NUMFACTURA, CODPRODUCTO);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT COD_PROD_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);


ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT NUM_FACT_FK 
      FOREIGN KEY (NUMFACTURA) REFERENCES FACTURA (NUMFACTURA);

ALTER TABLE DETALLE_FACTURA 
      ADD CONSTRAINT CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);



Prompt ******  CREANDO TABLA BOLETA ....

CREATE TABLE BOLETA
(
  NUMBOLETA  		NUMBER(7),
  RUTCLIENTE  		VARCHAR2(10),
  RUTVENDEDOR     	VARCHAR2(10),
  FECHA       		DATE,
  TOTAL       		NUMBER (7),
  CODPAGO		NUMBER(2),
  CODBANCO		NUMBER(2),
  NUM_DOCTO_PAGO	VARCHAR2(30),
  ESTADO      		VARCHAR2(2)
);

ALTER TABLE BOLETA 
      ADD CONSTRAINT NUMBOLETA_PK 
      PRIMARY KEY (NUMBOLETA);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTCLIENTE_FK 
      FOREIGN KEY (RUTCLIENTE) REFERENCES CLIENTE (RUTCLIENTE);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_RUTVENDEDOR_FK 
      FOREIGN KEY (RUTVENDEDOR) REFERENCES VENDEDOR (RUTVENDEDOR);

     
ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODPAGO_FK 
      FOREIGN KEY (CODPAGO) REFERENCES FORMA_PAGO (CODPAGO);

ALTER TABLE BOLETA 
      ADD CONSTRAINT BOL_CODBANCO_FK 
      FOREIGN KEY (CODBANCO) REFERENCES BANCO (CODBANCO);

ALTER TABLE BOLETA
      ADD CONSTRAINT BOL_ESTADO_BOLETA_CK
      CHECK (ESTADO IN ('EM', 'PA','NC') );


Prompt ******  CREANDO TABLA DETALLE_BOLETA ....

CREATE TABLE DETALLE_BOLETA 
   (
    NUMBOLETA	 	NUMBER (7), 
    CODPRODUCTO 	NUMBER (3), 
    VUNITARIO    		NUMBER(8),  
    CODPROMOCION	NUMBER (4),
    DESCRI_PROM   	VARCHAR2(60), 
    DESCUENTO		NUMBER(8),
    CANTIDAD 		NUMBER (5), 
    TOTALLINEA 		NUMBER(8)
   );

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOLETA_PK 
      PRIMARY KEY (NUMBOLETA, CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPRODUCTO_FK 
      FOREIGN KEY (CODPRODUCTO) REFERENCES PRODUCTO (CODPRODUCTO);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_NUM_BOLETA_FK 
      FOREIGN KEY (NUMBOLETA) REFERENCES BOLETA (NUMBOLETA);

ALTER TABLE DETALLE_BOLETA 
      ADD CONSTRAINT DET_BOL_CODPROMOCION_FK 
      FOREIGN KEY (CODPROMOCION) REFERENCES PROMOCION (CODPROMOCION);


Prompt ******  CREANDO SECUENCIA SEQ_AUDIT ....

create sequence SEQ_AUDIT
minvalue 1
maxvalue 9999999999
increment by 1;

Prompt ******  CREANDO SECUENCIA SEQ_ERROR ....

create sequence SEQ_ERROR
minvalue 1
maxvalue 9999999999
increment by 1;


CREATE TABLE PAGO_VENDEDOR 
(
 MES_ANNO   		VARCHAR2(10),
 RUTVENDEDOR    	VARCHAR2(10),
 NOMVENDEDOR    	VARCHAR2(30),
 SUELDO_BASE    		NUMBER(8),
 COMISION_MES  		NUMBER(8),
 COLACION       		NUMBER(8),
 MOVILIZACION   	NUMBER(8),
 PREVISION      		NUMBER(8),
 SALUD          		NUMBER(8),
 TOTAL_PAGAR    	NUMBER(8) 
);



INSERT INTO CIUDAD VALUES (1,'ARICA');
INSERT INTO CIUDAD VALUES (2,'IQUIQUE');
INSERT INTO CIUDAD VALUES (3,'CALAMA');
INSERT INTO CIUDAD VALUES (4,'ANTOFAGASTA');
INSERT INTO CIUDAD VALUES (5,'COPIAPO');
INSERT INTO CIUDAD VALUES (6,'LA SERENA');
INSERT INTO CIUDAD VALUES (7,'VALPARAISO');
INSERT INTO CIUDAD VALUES (8,'SANTIAGO');
INSERT INTO CIUDAD VALUES (9,'RANCAGUA');
INSERT INTO CIUDAD VALUES (10,'TALCA');
INSERT INTO CIUDAD VALUES (11,'CONCEPCION');
INSERT INTO CIUDAD VALUES (12,'TEMUCO');
INSERT INTO CIUDAD VALUES (13,'VALDIVIA');
INSERT INTO CIUDAD VALUES (14,'OSORNO');
INSERT INTO CIUDAD VALUES (15,'PTO. MONTT');
INSERT INTO CIUDAD VALUES (16,'COYHAIQUE');
INSERT INTO CIUDAD VALUES (17,'PTA. ARENAS');

INSERT INTO COMUNA VALUES (1,'VITACURA',8);
INSERT INTO COMUNA VALUES (2,'NUNOA',8);
INSERT INTO COMUNA VALUES (3,'PENALOLEN',8);
INSERT INTO COMUNA VALUES (4,'SANTIAGO',8);
INSERT INTO COMUNA VALUES (5,'VALDIVIA',13);
INSERT INTO COMUNA VALUES (6,'EL LOA',3);
INSERT INTO COMUNA VALUES (7,'CHILLAN',11);
INSERT INTO COMUNA VALUES (8,'PROVIDENCIA',8);
INSERT INTO COMUNA VALUES (9,'PTO.SAAVEDRA',14);

INSERT INTO FORMA_PAGO VALUES (1,'EFECTIVO');
INSERT INTO FORMA_PAGO VALUES (2,'TARJETA DEBITO');
INSERT INTO FORMA_PAGO VALUES (3,'TARJETA CREDITO');
INSERT INTO FORMA_PAGO VALUES (4,'CHEQUE');

INSERT INTO BANCO VALUES (1,'CHILE');
INSERT INTO BANCO VALUES (2,'SANTANDER');
INSERT INTO BANCO VALUES (3,'BCI');
INSERT INTO BANCO VALUES (4,'CORP BANCA');
INSERT INTO BANCO VALUES (5,'BbVA');
INSERT INTO BANCO VALUES (6,'SCOTIA');
INSERT INTO BANCO VALUES (7,'SECURITY');

INSERT INTO UNIDAD_MEDIDA VALUES ('UN','UNITARIO');
INSERT INTO UNIDAD_MEDIDA VALUES ('LT','LITRO');
INSERT INTO UNIDAD_MEDIDA VALUES ('MT','METRO');

INSERT INTO PAIS VALUES (1,'CHILE  ');
INSERT INTO PAIS VALUES (2,'EEUU');
INSERT INTO PAIS VALUES (3,'INGLATERRA  ');
INSERT INTO PAIS VALUES (4,'ALEMANIA ');
INSERT INTO PAIS VALUES (5,'FrancIA');
INSERT INTO PAIS VALUES (6,'CANADA  ');
INSERT INTO PAIS VALUES (7,'ARGENTIna  ');
INSERT INTO PAIS VALUES (8,'BRASIL');

INSERT INTO rangos_sueldos VALUES (1, 130000, 400000, .45);
INSERT INTO rangos_sueldos VALUES (2, 500001, 600000, .38);
INSERT INTO rangos_sueldos VALUES (3, 600001, 900000, .36);
INSERT INTO rangos_sueldos VALUES (4, 900001, 1300000, .34);
INSERT INTO rangos_sueldos VALUES (5, 1300001,1500000, .3);
INSERT INTO rangos_sueldos VALUES (6, 1500001,2000000, .28);
INSERT INTO rangos_sueldos VALUES (7, 2000001,3000000, .26);
INSERT INTO rangos_sueldos VALUES (8, 3000001,5000000, .24);


insert into cliente values (1,'6245678-1','JUAN ORMEÑO','ALAMEDA 6152',8,96644123,'A','JLOPEZ@GMAIL.COM',1000000,696550, '01/08/2021');
insert into cliente values (2,'7812354-2','MARIA SANTANDER','APOQUINDO 9093',8,961682456,'A','MSANTANDER@HOTMAIL.COM',1000000,819120,'11/09/2021');
insert into cliente values (3,'9912478-3','SIGIFRIDO  GUASINI   ','BILBAO 6200',8,55877315,'B','SSILVA@GMAIL.COM',1500000,0,'12/08/2021');
insert into cliente values (4,'14456789-4','OSCAR LARA','ALAMEDA 960',NULL,79888222,'A','OLARA@GMAIL.COM',2500000,2000000,'13/08/2021');
insert into cliente values (5,'11245678-5','MARCO ITURRA','ALAMEDA 1056',8,94577804,'A','MITURRA@YAHOO.COM',3000000,2332410, '11/10/2021');
insert into cliente values (6,'6467708-6','MARIBEL CARRASCO TORO ','VICUñaA MACKENNA 4555',4,95514545,'A','MSOTO@GMAIL.COM',1800000,1200000, '11/08/2021');
insert into cliente values (7,'10125945-7','SABINA LOPEZ','AV. LA FLORIDA 15554 ',4,88656285,'A','SVERGARA@GMAIL.COM',500000,150000, '12/09/2020');
insert into cliente values (8,'8125781-8','PATRICIO FUENTES','IRARRAZABAL 5452',2,74545904,'A','PFUENTES@HOTMAIL.COM',450000,50000,'10/10/2021');
insert into cliente values (9,'13746912-9','ABRAHAM IGLESIAS  MOSSA','ALAMEDA 454',4,91452303,'A','AIGLESIAS@YAHOO.COM',100000,90000, '10/09/2020');
insert into cliente values (10,'5446780-0','LEANDRO MESA T.','PANAMERICANA 152',1,95754782,'A','LMESSI@GMAIL.COM',800000,550000, '05/10/2021');
insert into cliente values (11,'10812874-0','ELBA  FUENZALIDA','PROVIDENCIA 4587 ',NULL,78544452,'A','LFUENZALIDA@GMAIL.COM',1900000,790000, '13/10/2021');

insert into VENDEDOR values (1,'12456778-1','LEOPOLDO JOSÉ VALDES','ALAMEDA 6152',1,44644123,'LvallejoS@GMAIL.COM',340000,0.1, NULL,'10:00', '18:00','19/08/2001' );
insert into VENDEDOR values (2,'10712354-2','MARIO ANDRÉS SOTO','APOQUINDO 9093',2,651682456,'MSOTO@HOTMAIL.COM',665000,0.2 , NULL,'17:10', '21:15', '11/11/2003');
insert into VENDEDOR values (3,'11124678-3','SALVADOR ALVARADO','BILBAO 6200',3,65877315,'SALVARADiu@GMAIL.COM',350000,0.3 , NULL,'10:15', '16:00','11/10/1997');
insert into VENDEDOR values (4,'10656569-K','Luis CarLOS MUñoOZ','ALAMEDA 960',4,96888222,'wenardo@GMAIL.COM',565000,0.4 , 0,'11:00', '21:58','01/07/1994');
insert into VENDEDOR values (5,'1097470-K','Luis Pedro Morales','Holanda 0029',1,96000255,'pdri@GMAIL.COM',565000,0.1 , 0, '11:00', '21:00','06/02/1994');
insert into VENDEDOR values (6,'6182133-8','Carlos Joaquín MUÑOZ','Pasaje 33 960',4,9555333,'joaco@GMAIL.COM',465000,0.1 ,  NULL,'11:00', '21:00','01/03/1994');
insert into VENDEDOR values (7,'13566589-K','Sabina Marta Morgado','Apoquindo  960',4,75666222,'morguita@GMAIL.COM',335000,0.2 , -1, '11:00', '13:00','01/02/1994');
insert into VENDEDOR values (8,'17456000-1','Mario José Pereira','Vitacura  60',4,932323882,'LmmmOZ@GMAIL.COM',1265000,null , -1, '10:00', '17:00','01/08/1995');
insert into VENDEDOR values (9,'17776789-4','Luis FELIPE MUÑOZ',' ALAMos 1960',9,44433222,'fMUNOZ@GMAIL.COM',625000,0.3 , '12:00', NULL, '21:00','01/08/1992');
insert into VENDEDOR values (11,'15489899-1','Laura Soledad Sotelo','R. Dario 110',9,99575722,'Lsotelo@GMAIL.COM',650090,null , NULL, '16:00', '21:00','09/08/1993');
insert into VENDEDOR values (12,'10456789-4','Claudio Fernando Valdes','Vicuna M 0030',2,65168456,'ven@GMAIL.COM',654880,0.2 , -1, '11:30', '14:09','11/09/1985');
insert into VENDEDOR values (13,'10125945-7','PEDRO HEYDI Gonzalez ','ALAMEDA 9699',2,9437474,'malardo@GMAIL.COM',126500,null , 0, '10:10', '15:00','12/08/1992');
UPDATE VENDEDOR  SET NOMBRE= UPPER(NOMBRE);



INSERT INTO PRODUCTO VALUES (1, 'ACEITE BELMONT'			,'LT','P',25000,4000,7.42,100,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (2, 'ACEITE CRISTAL '			,'LT','P',12500,8890,8.87,90,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (3, 'HARINA MONT BLANC'				,'LT','P',10000,7990,7.09,54,5,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (4, 'ARROZ  TUCAPEL'			,'LT','P',8500,6770.5,07,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (5, 'ARROZ A CUENTA'				,'LT','P',4950,3950,4.03,40,4,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (6, 'AZUCAR IANSA'			,'LT','P',7850,5679,7.98,60,6,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (7, 'BOLSA PARA BASURA'		,'LT','P',11990,9500,9.77,87,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (8, 'SAL LOBOS'			,'LT','P',12500,10890,12.76,60,6,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (9, 'ACEITE CARA'				,'LT','P',18990,15000,17.85,18,5,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (10,'SUPER OCHO','UN','P',2500,1500,2.01,100,10,'I',8,NULL);
INSERT INTO PRODUCTO VALUES (11,'SUPER 9  '				,'UN','P',1850,1200,1.6,150,15,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (12,' Original chocolate'			,'UN','P',15000,11000,15.64,70,7,'I',7,NULL);
INSERT INTO PRODUCTO VALUES (13,'SUPER OCHO  BOLSA'				,'UN','P',9000,6400,8.15,69,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (14,'SAL DE RÍO  '			,'UN','P',17980,13980,15.85,35,10,'I',2,NULL);
INSERT INTO PRODUCTO VALUES (15,'nova elite '		,'UN','P',12990,9000,8.77,20,2,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (16,'SAL DE MAR '			,'UN','P',6990,5000,5.50,54,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (17,'HARINA PERFECTA'			,'UN','P',5990,3800,4.66,34,7,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (18,'TALLARINES 77'			,'UN','P',12990,7800,6.80,25,10,'I',4,NULL);
INSERT INTO PRODUCTO VALUES (19,'TALLARINES 78 CAROCHI'			,'LT','P',2000,1000,NULL,200,20,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (20,'AGUA DESTILADA '				,'LT','P',2500,1200,NULL,90,9,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (21,'AGUA  TRIBUNO MINERAL'				,'LT','P',700,480,NULL,100,10,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (22,'PASTILLAS CARAMELO'			,'UN','S',21900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (23,'AGUA SiN GAS '			,'UN','S',25000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (24,'CACHANTUN '		,'UN','S',27000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (25,'COCA COLA 2 LTS'			,'UN','S',23990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (26,'COCA COLA 1.5 LTS'			,'UN','S',19900,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (27,'CERVEZA no se vende'				,'UN','S',10000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (28,'LECHE SOBROLE 1LT'				,'UN','S',9000,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (29,'BOLSA DE colaciones  '					,'UN','S',18500,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (30,'GALLETAS  TIRITÓN  '					,'UN','S',5990,NULL,NULL,NULL,NULL,'N',1,NULL);
INSERT INTO PRODUCTO VALUES (31,'LAVALOZAS CHENTE'					,'UN','S',15000,NULL,NULL,NULL,NULL,'N',1,NULL);


UPDATE PRODUCTO 
SET CODPRODUCTO_REL = 11
WHERE CODPRODUCTO <=9;

UPDATE PRODUCTO
SET CODPRODUCTO_REL = 27
WHERE (CODPRODUCTO >=22) AND (CODPRODUCTO <=26);

INSERT INTO PROMOCION VALUES (100,'FILTRO DE aceite GRATIS AMALIE',to_date('01-01-2017'),to_date('28-02-2017'),1,0,11);
INSERT INTO PROMOCION VALUES (101,'FILTRO DE aceite GRATIS EDGE USA',to_date('01-01-2017'),to_date('30-05-2017'),2,0,11);
INSERT INTO PROMOCION VALUES (102,'FILTRO DE aceite GRATIS CASTROL',to_date('01-01-2017'),to_date('30-05-2017'),3,0,11);
INSERT INTO PROMOCION VALUES (103,'FILTRO DE aceite GRATIS LIQUI MOLY',to_date('01-01-2017'),to_date('30-05-2017'),4,0,11);
INSERT INTO PROMOCION VALUES (104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',to_date('01-01-2017'),to_date('30-05-2020'),5,0,11);
INSERT INTO PROMOCION VALUES (105,'FILTRO DE aceite GRATIS MOBIL SUPER'	,to_date('01-01-2017'),to_date('30-05-2017'),6,0,11);
INSERT INTO PROMOCION VALUES (106,'FILTRO DE aceite GRATIS ROYAL PURPLE',to_date('01-01-2017'),to_date('30-05-2020'),7,0,11);
INSERT INTO PROMOCION VALUES (107,'FILTRO DE aceite GRATIS VALVOLINE',to_date('01-01-2017'),to_date('30-05-2020'),8,0,11);
INSERT INTO PROMOCION VALUES (108,'FILTRO DE aceite GRATIS YPF ELAION',to_date('01-01-2017'),to_date('30-05-2020'),9,0,11);
INSERT INTO PROMOCION VALUES (109,'CAMBIO PASTILLA FRENO NISSAN V16, LAVADO GRATIS',to_date('01-01-2020'),to_date('30-05-2020'),22,0,27);
INSERT INTO PROMOCION VALUES (110,'CAMBIO PASTILLA FRENO TOYOTA YARIS, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2020'),23,0,27);
INSERT INTO PROMOCION VALUES (111,'CAMBIO PASTILLA FRENO CHEVROLET CORSA, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2018'),24,0,27);
INSERT INTO PROMOCION VALUES (112,'CAMBIO PASTILLA FRENO SUZUKI ALTO, LAVADO GRATIS'	,to_date('01-01-2017'),to_date('30-05-2019'),25,0,27);
INSERT INTO PROMOCION VALUES (113,'CAMBIO PASTILLA FRENO SUZUKI MARUTI, LAVADO GRATIS',to_date('01-01-2017'),to_date('30-05-2020'),26,0,27);
alter table promocion add imagen BLOB DEFAULT EMPTY_BLOB(); 
update vendedor set nombre= upper(nombre), mail=upper(mail);


insert into factura values (11520,'6245678-1','12456778-1',to_date('02/01 /2020'),to_date('02/02 /2020'),100000,19000,119000,1,4,'178904', 'EM');
insert into factura values (11521,'7812354-2','10712354-2',to_date('02/01 /2020'),NULL,149000,28310,177310,NULL,1,NULL,'EM');
insert into factura values (11522,'9912478-3','12456778-1',to_date('03/02 /2020'),NULL,209400,39786,249186,2,3,NULL,'PA');
insert into factura values (11523,'14456789-4','11124678-3',to_date('04/02 /2020'),NULL,37500,7125,44625,NULL,1,NULL,'EM');
insert into factura values (11524,'11245678-5','11124678-3',to_date('15/02 /2020'),NULL,58455,11606,69561,2,4,NULL,'EM');
insert into factura values (11525,'6467708-6','12456778-1',to_date('16/02 /2020'),'16/03 /2020',30000,5700,35700,2,4,'8904865', 'EM');
insert into factura values (11526,'10125945-7','10456789-4',to_date('17/02 /2020'),NULL,29700,5643,35343,2,3,NULL,'PA');
insert into factura values (11527,'8125781-8','10712354-2',to_date('07/03 /2020'),NULL,29700,5643,35343,NULL,1,NULL,'EM');
insert into factura values (11528,'13746912-9','10712354-2',to_date('07/03 /2020'),NULL,29700,5643,35343,2,4,'CF-123647','EM');
insert into factura values (11529,'5446780-0','10456789-4',to_date('08/03 /2020'),NULL,21900,4161,26061,NULL,1,NULL,'EM');
insert into factura values (11530,'10812874-0','10456789-4',to_date('08/03 /2020'),NULL,27000,5130,32130,NULL,1,NULL,'EM');

INSERT INTO DETALLE_FACTURA VALUES (11520,1,25000,100,'FILTRO DE aceite GRATIS AMALIE',0,4,100000);
INSERT INTO DETALLE_FACTURA VALUES (11521,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11521,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_FACTURA VALUES (11522,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_FACTURA VALUES (11522,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_FACTURA VALUES (11522,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_FACTURA VALUES (11523,2,12500,101,'FILTRO DE aceite GRATIS EDGE USA',0,3,37500);
INSERT INTO DETALLE_FACTURA VALUES (11524,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_FACTURA VALUES (11525,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_FACTURA VALUES (11526,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11527,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11528,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_FACTURA VALUES (11529,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_FACTURA VALUES (11530,24,27000,null,null,0,1,27000);


insert into BOLETA values (120,'6245678-1','12456778-1',to_date('22/08/2021'),119000,1,4,'DS4344', 'EM');
insert into BOLETA values (121,'7812354-2','10712354-2',to_date('22/01/2021'),177310,NULL,1,NULL,'EM');
insert into BOLETA values (122,'9912478-3','12456778-1',to_date('23/08/2019'),249186,2,3,NULL,'PA');
insert into BOLETA values (123,'14456789-4','11124678-3',to_date('24/07/2019'),44625,NULL,1,NULL,'EM');
insert into BOLETA values (124,'11245678-5','11124678-3',to_date('25/07/2021'),69561,2,4,NULL,'EM');
insert into BOLETA values (125,'6467708-6','10456789-4',to_date('26/01/2021'),35700,2,4,'4865', 'EM');
insert into BOLETA values (126,'10125945-7','12456778-1',to_date('27/08/2021'),35343,2,3,NULL,'PA');
insert into BOLETA values (127,'8125781-8','10712354-2',to_date('17/11/2020'),35343,NULL,1,NULL,'EM');
insert into BOLETA values (128,'13746912-9','10456789-4',to_date('17/08/2021'),35343,2,4,'S/N 36147','EM');
insert into BOLETA values (129,'5446780-0','12456778-1',to_date('02/09/2021'),26061,NULL,1,NULL,'EM');
insert into BOLETA values (130,'10812874-0','10456789-4',to_date('18/10/2020'),32130,NULL,1,NULL,'EM');



INSERT INTO DETALLE_BOLETA VALUES (120,1,25000,100,'FILTRO DE aceite GRATIS AMALIE',0,4,100000);
INSERT INTO DETALLE_BOLETA VALUES (121,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (121,19,2000,NULL,NULL,0,10,20000);
INSERT INTO DETALLE_BOLETA VALUES (122,15,12900,NULL,NULL,0,10,129000);
INSERT INTO DETALLE_BOLETA VALUES (122,16,6990,NULL,NULL,0,10,69900);
INSERT INTO DETALLE_BOLETA VALUES (122,21,700,NULL,NULL,0,15,10500);
INSERT INTO DETALLE_BOLETA VALUES (123,2,12500,101,'FILTRO DE aceite GRATIS EDGE USA',0,3,37500);
INSERT INTO DETALLE_BOLETA VALUES (124,3,12990,null,null,50,6,58455);
INSERT INTO DETALLE_BOLETA VALUES (125,15,10000,null,null,50,4,30000);
INSERT INTO DETALLE_BOLETA VALUES (126,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (127,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (128,5,4950,104,'FILTRO DE aceite GRATIS HYUNDAI XTEER',0,6,29700);
INSERT INTO DETALLE_BOLETA VALUES (129,22,21900,null,null,0,1,21900);
INSERT INTO DETALLE_BOLETA VALUES (130,24,27000,null,null,0,1,27000);

CREATE TABLE turno_vendedor 
(
 RUTVENDEDOR    	VARCHAR2(10) PRIMARY KEY ,
 TURNO_INI    	VARCHAR2(9),
 TURNO_FIN    	VARCHAR2(9)
);


commit;