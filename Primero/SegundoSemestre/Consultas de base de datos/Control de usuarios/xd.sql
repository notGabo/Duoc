--Requerimiento 1
-- Dueño de la base de datos, o admin 
CREATE USER C##MDY2131_P12_1 IDENTIFIED BY 1234 DEFAULT TABLESPACE SYSAUX QUOTA 5M ON SYSAUX;
GRANT CONNECT, RESOURCE TO C##MDY2131_P12_1;

-- Desarrollador
CREATE USER C##MDY2131_P12_2 IDENTIFIED BY 1234 DEFAULT TABLESPACE SYSAUX QUOTA 5M ON SYSAUX;
GRANT CONNECT TO C##MDY2131_P12_2;


-- Usuarios finales
CREATE USER C##MDY2131_P12_3 IDENTIFIED BY 1234 DEFAULT TABLESPACE SYSAUX QUOTA 5M ON SYSAUX;
GRANT CONNECT TO C##MDY2131_P12_3;

CREATE USER C##MDY2131_P12_4 IDENTIFIED BY 1234 DEFAULT TABLESPACE SYSAUX QUOTA 5M ON SYSAUX;
GRANT CONNECT TO C##MDY2131_P12_4;

-- PRIVILEGIOS DE SISTEMAS
GRANT CREATE PROCEDURE, CREATE TRIGGER, CREATE VIEW, CREATE MATERIALIZED VIEW TO C##MDY2131_P12_2;

-- PRIVILEGIOS DE OBJETOS
GRANT SELECT ON C##MDY2131_P12_1.APORTE_A_SBIF TO C##MDY2131_P12_2;
GRANT SELECT ON C##MDY2131_P12_1.CLIENTE TO C##MDY2131_P12_2;
DROP GRANT SELECT ON C##MDY2131_P12_1.COMUNA TO C##MDY2131_P12_2;
GRANT SELECT ON C##MDY2131_P12_1.CREDITO_CLIENTE TO C##MDY2131_P12_2;
GRANT SELECT ON C##MDY2131_P12_1.CUOTA_CREDITO_CLIENTE TO C##MDY2131_P12_2;

GRANT UPDATE, INSERT, DELETE ON C##MDY2131_P12_1.CREDITO_CLIENTE TO C##MDY2131_P12_2;
GRANT UPDATE, INSERT, DELETE ON C##MDY2131_P12_1.PRODUCTO_INVERSION TO C##MDY2131_P12_2;
GRANT UPDATE, INSERT, DELETE ON C##MDY2131_P12_1.CUOTA_CREDITO_CLIENTE TO C##MDY2131_P12_2;

--acceso a consultar a usuarios
grant select on c##mdy2131_p12_1.comuna to c##mdy2131_p12_3;
grant select on c##mdy2131_p12_1.region to c##mdy2131_p12_3;
grant select on c##mdy2131_p12_1.provincia to c##mdy2131_p12_3;
grant select on c##mdy2131_p12_1.tipo_contrato to c##mdy2131_p12_3;
grant select on c##mdy2131_p12_1.tipo_movimiento to c##mdy2131_p12_3;

grant select on c##mdy2131_p12_1.comuna to c##mdy2131_p12_4;
grant select on c##mdy2131_p12_1.region to c##mdy2131_p12_4;
grant select on c##mdy2131_p12_1.provincia to c##mdy2131_p12_4;
grant select on c##mdy2131_p12_1.tipo_contrato to c##mdy2131_p12_4;
grant select on c##mdy2131_p12_1.tipo_movimiento to c##mdy2131_p12_4;

--sinonmos
CREATE PUBLIC SYNONYM S_CUOTA FOR C##MDY2131_P12_1.CUOTA_CREDITO_CLIENT;
CREATE PUBLIC SYNONYM S_COMU FOR C##MDY2131_P12_1.comuna;

